"use strict";const dataImg={eggIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATdJREFUWEftVaEOwjAQfTh+oxIkEoncL0wOBxKHBYdkjslJ7CQSHBLkLH8AbuS23VKWkdyRLQtJK5b2erv37t21HaDnMegZH46AU8Ap8PcKZNY98lMyP/0EIAe+3RYV/ngc8lwVU+VcImTrgwczAfxR8HGRRmGC5Soimziu2LEOTus6AbJpSagJHK5ezqUJnOxpekJZDlFskRNnv98FCBYFgfqI77n0mA4NTslLXAoVgefz+PXxZALpFfCnRqxCawSI2SYuVOiMAB07Y2bgbO0+oNrbQ9oHKgWoB2beEOdXWtWbJvG5WHP2XfUAxc/sy6cOziS284SmouRETpa0GavANjt7sj0uQBR1RyBXgT62EkyizFycvcqx4fzZDxFvaxWV1enr4W9hQ824BcyPEI6AU8Ap0LsCbw3FYyE2M9K7AAAAAElFTkSuQmCC"},eggDesign=["abra","absol","aerodactyl","aipom","alomomola","amaura","anorith","applin","archen","aron","arrokuda","audino","axew","azurill","bagon","baltoy","barboach","basculin","beldum","bellsprout","bergmite","bidoof","binacle","blipbug","blitzle","bonsly","bouffalant","bounsweet","bronzor","bruxish","budew","buizel","bulbasaur","buneary","bunnelby","burmy","cacnea","carbink","carnivine","carvanha","castform","caterpie","chansey","charjabug","charmander","chatot","cherubi","chespin","chewtle","chikorita","chimchar","chimecho","chinchou","chingling","clamperl","clauncher","cleffa","clobbopus","combee","comfey","corpish","corsola","corsola_1","cottonee","crabrawler","cramorant","cranidos","croagunk","cryogonal","cubchoo","cubone","cufant","cutiefly","cyndaquil","darumaka","dedenne","deerling","deino","delibird","dewpider","dhelmise","diglett","diglett_1","doduo","drampa","dratini","dreepy","drifloon","drilbur","drowzee","druddigon","ducklett","dunsparce","durant","duskull","dwebble","eevee","eiscue","ekans","electrike","elekid","elgyem","emolga","espurr","exeggcute","falinks","farfetchd","feebas","fennekin","ferroseed","finneon","flabebe","fletchling","fomantis","foongus","frillish","froakie","furfrou","gastly","geodude","geodude_1","gible","girafarig","glameow","gligar","goldeen","golett","goomy","gossifleur","gothita","grimer","grimer_1","grookey","growlithe","grubbin","gulpin","happiny","hatenna","hawlucha","heatmor","helioptile","heracross","hippopotas","honedge","hoothoot","hoppip","horsea","houndour","igglybuff","illumise","impidimp","indeedee","inkay","jangmoo","joltik","kabuto","kangaskhan","karrablast","kecleon","klefki","klink","koffing","krabby","kricketot","lapras","larvesta","larvitar","ledyba","lickitung","lileep","lillipup","litleo","litten","litwick","lotad","lunatone","luvdisc","machop","magby","magikarp","magnemite","makuhita","manaphy","manaphy_icon","mankey","mantyke","maractus","mareanie","mareep","marill","mawile","meditite","meowth","meowth_1","meowth_2","mienfoo","milcery","miltank","mimejr","mimikyu","minccino","minior","minun","misdreavus","morelull","morpeko","mudbray","mudkip","munchlax","munna","murkrow","natu","nickit","nidoranfe","nidoranme","nincada","noibat","nosepass","numel;","oddish","omanyte","onix","oranguru","oricorio","oricorio_1","oricorio_2","oricorio_3","oshawott","output.txt","pachirisu","pancham","panpour","pansage","pansear","paras","passimian","patrat","pawniard","petilil","phanpy","phantump","pichu","pidgey","pidove","pikipek","pincurchin","pineco","pinsir","piplup","plusle","poliwag","ponyta","ponyta_1","poochyena","popplio","porygon","psyduck","pumpkaboo","purrloin","pyukumuku","qwilfish","raltss","rattata","rattata_1","relicanth","remoraid","rhyhorn","riolu","rockruff","roggenrola","rolycoly","rookidee","roselia","rotom","rowlet","rufflet","sableye","salandit","sandile","sandshrew","sandshrew_1","sandygast","sawk","scatterby","scorbunny","scraggy","scyther","seedot","seel","sentret","seviper","sewaddle","shellder","shellos","shelmet","shieldon","shinx","shroomish","shuckle","shuppet","sigilyph","silicobra","sinistea","sizzipede","skarmory","skiddo","skitty","skorupi","skrelp","skwovet","slakoth","slowpoke","slowpoke_1","slugma","smeargle","smoochum","sneasel","snivy","snom","snorlax","snorunt","snover","snubbul","sobble","solosis","solrock","sorupi","spearow","spheal","spinarak","spinda","spiritomb","spoink","spritzee","squirtle","stantler","starly","staryu","stonjourner","stufful","stunfisk","stunfisk_1","stunky","sudowoodo","sunkern","surskit","swablu","swinub","swirlix","taillow","tangela","tauros","teddiursa","tentacool","tepig","throh","timburr","tirtouga","togedemaru","togepi","torchic","torkoal","totodile","toxel","trapinch","treecko","tropius","trubbish","turtonator","turtwig","tympole","tynamo","tyrogue","tyrunt","vanillite","venipede","venonat","volbeat","voltorb","vullaby","vulpix","vulpix_1","wailmer","weedle","whismur","wimpod","wingull","wishiwashi","woobat","wooloo","wooper","wurmple","wynaut","yamask","yamask_1","yamper","yanma","yungoos","zangoose","zigzagoon","zigzagoon_1","zorua","zubat"];function sendToLead(e,o){player.leadPoke;let a;"party"===o?(a=player.party[e],player.party[e]=player.leadPoke,renderParty(!1,e)):"box"===o&&(a=player.pokemonBox[e],player.pokemonBox[e]=player.leadPoke,sortBox(),renderPokeBox()),player.leadPoke=a,renderLead()}function sendToBox(e){const o=player.party[e];o.isEgg&&(player.eggHandler[e]=null,pauseEggTimer(!1,e));const a=Object.keys(player.pokemonBox).length;player.pokemonBox=Object.assign({[a]:o},player.pokemonBox),player.party[e]=emptyMember(),renderParty(!1,e)}function sendToParty(e){const o=findEmptyParty();if(-1!==o){const a=player.pokemonBox[e];player.party[o]=a,a.isEgg&&progressEgg(o),delete player.pokemonBox[e],sortBox(),renderPokeBox()}}function salvagePoke(e,o){let a;function n(e){for(const o of e.types)if("None"!==o){const e=+Object.entries(itemData).filter((([e,a])=>a.name===`${o} Gem`))[0][0];gainItem(e,1),console.log(o)}}"party"===o?(a=player.party[e],n(pkmnData[a.id]),player.party[e]=emptyMember(),renderParty(!1,e)):"box"===o&&(a=player.pokemonBox[e],n(pkmnData[a.id]),delete player.pokemonBox[e],sortBox(),renderPokeBox())}function buildPartyMenu(e){disposeElement(pkmnMenu);const o=player.party[e],a=["Lead","Box","Salvage"];for(const n in a){const r=document.createElement("button");r.classList.add("menu-item"),r.innerHTML=a[n],o.isEgg&&("0"!==n&&"2"!==n||(r.disabled=!0)),r.addEventListener("click",(o=>{"0"===n?sendToLead(e,"party"):"1"===n?sendToBox(e):"2"===n&&salvagePoke(e,"party")})),pkmnMenu.appendChild(r)}}function buildBoxMenu(e){disposeElement(pkmnMenu);const o=player.pokemonBox[e],a=["Lead","Party","Salvage"];for(const n in a){const r=document.createElement("button");r.classList.add("menu-item"),r.innerHTML=a[n],o.isEgg&&("0"===n||-1===findEmptyParty()&&"1"===n||"2"===n)&&(r.disabled=!0),r.addEventListener("click",(o=>{"0"===n?sendToLead(e,"box"):"1"===n?sendToParty(e):"2"===n&&salvagePoke(e,"box")})),pkmnMenu.appendChild(r)}}function trimImage(e){const o=document.getElementById("canvas"),a=document.getElementById(e);o.width=32,o.height=32;o.getContext("2d").drawImage(a,-18,-30);const n=o.toDataURL();console.log(n)}document.querySelectorAll("[pkmn-menu]").forEach((e=>{e.addEventListener("contextmenu",(e=>{e.preventDefault();const o=e.target,a=o.getAttribute("pkmn-menu"),n=+o.getAttribute("data-src");function r(){pkmnMenu.style.top=`${e.pageY}px`,pkmnMenu.style.left=`${e.pageX}px`,pkmnMenu.style.display="flex"}null!==a&&null!==n&&("party"===a?null!==player.party[n].isEgg&&(r(),buildPartyMenu(+n)):"box"===a&&(r(),buildBoxMenu(+n)))}))}));